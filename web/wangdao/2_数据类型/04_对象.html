<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- 1 对象属性的读取 -->
    <!-- <script>
        // 读取对象的属性，有两种方法，一种是使用点运算符，还有一种是使用方括号运算符。
        var obj = {
            p: "im p"
        }
        console.log(obj.p) //im p
        console.log(obj['p']) //im p

        // 如果使用方括号运算符，键名必须放在引号里面，否则会被当作变量处理。
        var foo = 'bar'
        var obj1 = {
            foo: 'im foo',
            bar: 'im bar',
            '2': 'im 2'
        }
        console.log(obj1.foo) //im foo
        console.log(obj1[foo]) //im bar

        // 方括号运算符内部还可以使用表达式。
        // 数字键可以不加引号，因为会自动转成字符串。
        console.log(obj1[1 + 1]) //im 2

        // 数值键名不能使用点运算符（因为会被当成小数点），只能使用方括号运算符。
        var obj2 = {
            123: 'im 123'
        };

        // obj2.123 // 报错
        console.log(obj2[123]) // "im 123"
    </script> -->

    <!-- 2 属性的赋值-->
    <!-- <script>
        // 点运算符和方括号运算符，不仅可以用来读取值，还可以用来赋值。
        var obj = {}
        obj.foo = 'im'
        obj['bar'] = 'foo'

        // JavaScript 允许属性的“后绑定”，也就是说，你可以在任意时刻新增属性，没必要在定义对象的时候，就定义好属性。
        var obj = { p: 1 };
        // 等价于
        var obj = {};
        obj.p = 1;

        // 查看一个对象本身的所有属性，可以使用Object.keys方法。
        console.log(Object.keys(obj))
        console.log(Object.values(obj))
        console.dir(Object)
    </script> -->

    <!-- 3 属性的删除：delete 命令 -->
    <!-- <script>
        // delete命令用于删除对象的属性，删除成功后返回true。
        var obj = { p: 1 }
        console.log(Object.keys(obj)) // ["p"]
        console.log(delete obj.p) // true
        console.log(obj.p)  // undefined
        console.log(Object.keys(obj)) // []
         
        // 注意，删除一个不存在的属性，delete不报错，而且返回true。
        var obj = {}
        console.log(delete obj.p)

        // delete命令只能删除对象本身的属性，无法删除继承的属性
        var obj = {}
        // toString是对象obj继承的属性，虽然delete命令返回true，但该属性并没有被删除，依然存在。
        console.log(delete obj.toString) // true
        console.log(obj.toString) // ƒ toString() { [native code] }

        // 只有一种情况，delete命令会返回false，那就是该属性存在，且不得删除。
        var obj = Object.defineProperty({}, 'p', {
        value: 123,
        configurable: false
        })
        console.log(obj.p) // 123
        console.log(delete obj.p) // false
    </script> -->

    <!-- 4 属性是否存在：in -->
    <!-- <script>
        // in运算符用于检查对象是否包含某个属性（注意，检查的是键名，不是键值），如果包含就返回true，否则返回false。
        // in运算符的一个问题是，它不能识别哪些属性是对象自身的，哪些属性是继承的。
        var obj = {
            p: '1'
        }
        console.log('p' in obj) //true
        console.log('toString' in obj) //true

        // 对象的hasOwnProperty方法判断一下，是否为对象自身的属性。
        console.log(obj.hasOwnProperty('toString')) //false
    </script> -->

    <!-- 5 with 语句 -->
    <script>
        // 提供语法糖
        var obj = {
            p1: 1,
            p2: 2,
        }
        with (obj) {
            p1 = 4
            p2 = 5
        }
        // 等同于
        obj.p1 = 4
        obj.p2 = 5

        // 注意，如果with区块内部有变量的赋值操作，必须是当前对象已经存在的属性，否则会创造一个当前作用域的全局变量。
        var obj = {}
        with (obj) {
            p1 = 4
            p2 = 5
        }
        console.log(obj.p1) //undefined
        console.log(p1) // 4
    </script>
</body>
</html>